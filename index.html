<!DOCTYPE html>
<html>
<head>
  <title>Health data sharing</title>
  <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
  <script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove" defer></script>
  <script type="text/javascript" class="remove">
    var respecConfig = {
      title: "HEalth Data exchanGE (HEDGE) policy specification",
      subtitle: "Work in Progress",
      shortName: "HEDGE",
      specStatus: "unofficial",
      latestVersion: "https://w3id.org/xxxx",
    //   publishDate: "YYYY-MM-DD",
      doJsonLd: true,
      maxToclevel: 3,
      github: "besteves4/health-data-exchange-spec",
      includePermalinks: false,
      editors: [
        {
          name: "Beatriz Esteves",
          url: "",
          company: "",
          companyURL: ""
        },
        {}]
    };
  </script>
  <style type="text/css">
    .tg  {border-collapse:collapse;border-spacing:0;}
    .tg td{border-color:black;border-style:solid;border-width:1px;overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg th{border-color:black;border-style:solid;border-width:1px;overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg .tg-0lax{text-align:left;vertical-align:top}
    </style>
</head>

    <body>
        <section id="abstract">
            <h2>Abstract</h2>
            <p>
                This document defines a specification for modelling (and cataloging) health data exchange conditions, 
                aligned with legal requirements, e.g., from the European Union's General Data Protection Regulation (GDPR) and the
                European Health Data Spaces (EHDS) regulation,
                using semantic standards and specifications such as the
                <a href="https://www.w3.org/TR/odrl-model/">Open Digital Rights Language (ODRL)</a> and the
                <a href="https://w3id.org/dpv">Data Privacy Vocabulary (DPV)</a>.
            </p>
        </section>

        <section id="introduction">
            <h2>Introduction</h2>
            <div class="issue" title="TODO: Write introduction with requirements related to health data sharing, and specify requirements that are being brought forward by the work on the PACSOI project">
                <p></p>
            </div>
        </section>

        <section id="standards">
            <h2>Used standards/specs</h2>
            <div class="issue" title="TODO: Write into to ODRL, DPV and possibly DCAT, and its specialization HealthDCAT-AP">
                <p>Other provenance-related vocabs will also be useful like DCTerms, PROV, ...</p>
            </div>

            <ul>
                <li><b>ODRL</b>: W3C standard for policy expression</li>
                <ul>
                    <li><b>DPV-ODRL mapping</b>: ODRL profile for using DPV's terms in ODRL policies</li>
                </ul>
                <li><b>DPV</b>: W3C specification, developed by the W3C DPVCG, for the expression of data protection-related terms</li>
                <ul>
                    <li><b>EU-GDPR</b>: DPV extension for the expression of concepts related to the EU's General Data Protection Regulation</li>
                    <li><b>EU-EHDS</b>: DPV extension for the expression of concepts related to the EU's European Health Data Spaces</li>
                    <li><b>SECTOR-HEALTH</b>: DPV extension for the expression of concepts related to the healthcare sector</li>
                    <li><b>PD</b>: DPV extension for the expression of concepts related to personal data categories, including health data categories</li>
                </ul>
            </ul>

            <section id="namespaces">
                <h3>Namespaces</h3>
                <p>The following namespaces and prefixes are used throughout this document:</p>
                <table class="tg">
                    <thead>
                        <tr>
                            <th class="tg-0lax">Prefix</th>
                            <th class="tg-0lax">Namespace</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="tg-0lax">dcterms</td>
                            <td class="tg-0lax"><a href="http://purl.org/dc/terms/" target="_blank">http://purl.org/dc/terms/</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">dcat</td>
                            <td class="tg-0lax"><a href="http://www.w3.org/ns/dcat#" target="_blank">http://www.w3.org/ns/dcat#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">dpv</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv#" target="_blank">https://w3id.org/dpv#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">dpv-odrl</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv/mappings/odrl#" target="_blank">https://w3id.org/dpv/mappings/odrl#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">eu-gdpr</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv/legal/eu/gdpr#" target="_blank">https://w3id.org/dpv/legal/eu/gdpr#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">eu-ehds</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv/legal/eu/ehds#" target="_blank">https://w3id.org/dpv/legal/eu/ehds#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">ex</td>
                            <td class="tg-0lax"><a href="https://example.com/" target="_blank">https://example.com/</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">odrl</td>
                            <td class="tg-0lax"><a href="http://www.w3.org/ns/odrl/2/" target="_blank">http://www.w3.org/ns/odrl/2/</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">pd</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv/pd#" target="_blank">https://w3id.org/dpv/pd#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">sector-health</td>
                            <td class="tg-0lax"><a href="https://w3id.org/dpv/sector/health#" target="_blank">https://w3id.org/dpv/sector/health#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">skos</td>
                            <td class="tg-0lax"><a href="http://www.w3.org/2004/02/skos/core#" target="_blank">http://www.w3.org/2004/02/skos/core#</a></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">xsd</td>
                            <td class="tg-0lax"><a href="http://www.w3.org/2001/XMLSchema#" target="_blank">http://www.w3.org/2001/XMLSchema#</a></td>
                        </tr>
                    </tbody>
                    <caption>Table 1 - Prefixes and namespaces for the vocabularies used throughout this document</caption>
                </table>
            </section>
        </section>

        <section id="requirements">
            <h2>Policy requirements</h2>
            <div class="issue" title="TODO: Map requirements into information that should be reflected in the policies, for both data holders and data users">
                <p></p>
            </div>
            <section id="offers">
                <h2>Offers</h2>
                <div class="issue" title="[WIP] Necessity of specified terms for offers">
                    <p>The minimal set of terms to define offers, identified in <a href="#table-offers">Table 2</a>, is still work-in-progress.</p>
                </div>
                <table class="tg" id="table-offers">
                    <thead>
                        <tr>
                            <th class="tg-0lax">Term</th>
                            <th class="tg-0lax">Concept</th>
                            <th class="tg-0lax">Relation / Constraint</th>
                            <th class="tg-0lax">Necessity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="tg-0lax">Data subject</td>
                            <td class="tg-0lax">URI</td>
                            <td class="tg-0lax">odrl:assigner</td>
                            <td class="tg-0lax">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Personal data</td>
                            <td class="tg-0lax">URI / subclass of dpv:PersonalData</td>
                            <td class="tg-0lax">odrl:target</td>
                            <td class="tg-0lax">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Processing operation</td>
                            <td class="tg-0lax">subclass of odrl:Action or dpv:Processing</td>
                            <td class="tg-0lax">odrl:action</td>
                            <td class="tg-0lax">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Purpose</td>
                            <td class="tg-0lax">subclass of dpv:Purpose</td>
                            <td class="tg-0lax">dpv-odrl:Purpose</td>
                            <td class="tg-0lax">Mandatory</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Pseudo/Anonymisation</td>
                            <td class="tg-0lax">dpv-odrl:Pseudonymise, dpv-odrl:Anonymise</td>
                            <td class="tg-0lax">odrl:action</td>
                            <td class="tg-0lax">Optional</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Recipient</td>
                            <td class="tg-0lax">URI / subclass of dpv:Organisation</td>
                            <td class="tg-0lax">dpv-odrl:Recipient</td>
                            <td class="tg-0lax">Optional</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Duration</td>
                            <td class="tg-0lax">xsd:duration</td>
                            <td class="tg-0lax">dpv-odrl:Duration</td>
                            <td class="tg-0lax">Optional</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Frequency</td>
                            <td class="tg-0lax">xsd:positiveInteger</td>
                            <td class="tg-0lax">dpv-odrl:Frequency</td>
                            <td class="tg-0lax">Optional</td>
                        </tr>
                        <!-- <tr>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr> -->
                    </tbody>
                    <caption>Table 2 - Terms for defining ODRL offers, respective mapping into DPV & ODRL, and their necessity according to the identified requirements</caption>
                </table>
                <div class="issue" title="TODO: Specify common healthcare-related recipients">
                    <p>DPV's organisation taxonomy already has some concepts for this, are they enough?</p>
                </div>
                <div class="issue" title="TODO: Access/usage of retrospective/prospective data">
                    <p>We should be able to allow both or just one of them</p>
                    <p>In the absense of this information, should we assume by default only retrospective data or retrospective+prospective data?</p>
                </div>
            </section>
            <section id="requests">
                <h2>Requests</h2>
                <div class="issue" title="[WIP] Necessity of specified terms for requests">
                    <p>
                        The minimal set of terms to define requests, identified in <a href="#table-requests">Table 3</a>, 
                        and respective mapping into legal requirements, e.g., from the GDPR and EHDS,
                        is still work-in-progress.
                    </p>
                </div>
                <table class="tg"  id="table-requests">
                    <thead>
                        <tr>
                            <th class="tg-0lax">Term</th>
                            <th class="tg-0lax">Concept</th>
                            <th class="tg-0lax">Relation / Constraint</th>
                            <th class="tg-0lax">Necessity</th>
                            <th class="tg-0lax">Legal requirements</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="tg-0lax">Data controller</td>
                            <td class="tg-0lax">URI</td>
                            <td class="tg-0lax">odrl:assignee</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">GDPR</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Data subject (type)</td>
                            <td class="tg-0lax">URI / subclass of dpv:HumanSubject</td>
                            <td class="tg-0lax">odrl:assigner</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Personal data</td>
                            <td class="tg-0lax">subclass of dpv:PersonalData</td>
                            <td class="tg-0lax">odrl:target</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">GDPR</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Personal electronic health data</td>
                            <td class="tg-0lax">subclass of pd:MedicalHealth</td>
                            <td class="tg-0lax">odrl:target</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">EHDS</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Non-personal electronic health data</td>
                            <td class="tg-0lax">...</td>
                            <td class="tg-0lax">odrl:target</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">EHDS</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Processing operation</td>
                            <td class="tg-0lax">subclass of odrl:Action or dpv:Processing</td>
                            <td class="tg-0lax">odrl:action</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">GDPR</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Purpose</td>
                            <td class="tg-0lax">subclass of dpv:Purpose</td>
                            <td class="tg-0lax">dpv-odrl:Purpose</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">GDPR</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Primary/Secondary use</td>
                            <td class="tg-0lax">TODO</td>
                            <td class="tg-0lax">TODO</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">EHDS</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Legal basis</td>
                            <td class="tg-0lax">subclass of dpv:LegalBasis</td>
                            <td class="tg-0lax">dpv-odrl:LegalBasis</td>
                            <td class="tg-0lax">Mandatory</td>
                            <td class="tg-0lax">GDPR</td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Pseudo/Anonymisation</td>
                            <td class="tg-0lax">dpv-odrl:Pseudonymise, dpv-odrl:Anonymise</td>
                            <td class="tg-0lax">odrl:action</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Recipient</td>
                            <td class="tg-0lax">URI / subclass of dpv:Organisation</td>
                            <td class="tg-0lax">dpv-odrl:Recipient</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Data source</td>
                            <td class="tg-0lax">subclass of dpv:DataSource</td>
                            <td class="tg-0lax">dpv-odrl:DataSource</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Duration</td>
                            <td class="tg-0lax">xsd:duration</td>
                            <td class="tg-0lax">dpv-odrl:Duration</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Frequency</td>
                            <td class="tg-0lax">xsd:positiveInteger</td>
                            <td class="tg-0lax">dpv-odrl:Frequency</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <tr>
                            <td class="tg-0lax">Events/Activities</td>
                            <td class="tg-0lax">TODO</td>
                            <td class="tg-0lax">odrl:event</td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr>
                        <!-- <tr>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                            <td class="tg-0lax"></td>
                        </tr> -->
                    </tbody>
                    <caption>Table 3 - Terms for defining ODRL requests, respective mapping into DPV & ODRL, and their necessity according to the identified legal requirements</caption>
                </table>
                <div class="issue" title="TODO: Add personal and non-personal electronic health data concepts to EHDS">
                    <p>
                        EHDS "lays down common rules and mechanisms for primary use of electronic health data and secondary use of electronic health data",
                        and "'electronic health data’'means personal or non-personal electronic health data".
                    </p>
                </div>
                <div class="issue" title="TODO: Add primary and secondary use concepts to EHDS">
                    <p>
                        Use case for complex right operands? (Where more than one value is needed to assess the left/right operand relation)
                    </p>
                </div>
                <div class="issue" title="TODO: Add concepts/examples to deal with joint controllers and data processors">
                    <p>
                        In case there's joint-controllership and/or data processors involved in the processing, then policies must be specified for that as well including each parties responsibilities.
                    </p>
                </div>
                <div class="issue" title="TODO: How to model events/activities, e.g., emergency events that can justify using vital interest as the legal basis">
                    <p>We can odrl:event or look into how to use DPV's justifications to do it. Though, at this moment, DPV's justifications don't have any concepts for this. See https://w3c.github.io/dpv/2.1/dpv/modules/legal_basis.html#desc-vital-interest</p>
                </div>
            </section>
            <section id="agreements">
                <h2>Agreements</h2>
                <div class="issue" title="TODO: Write requirements for agreements, e.g., policies agreed upon by data subjects and controllers">
                    <p></p>
                </div>
            </section>
        </section>

        <section id="agreement-instantiation">
            <h2>Agreement Instantiation</h2>
            <p>
                The final agreement instantiation,
                that results from the matching of a concrete request with the set of policies that determine the access/usage of a certain target resource,
                should include the following terms:
            </p>
            <ul>
                <li>Reference the ODRL request that triggered the agreement instantiation and the offer policies from the data subject/holder</li>
                <ul>
                    <li>
                        The offer policies should only be directly accessible by the data subject/holder to mitigate privacy concerns,
                        e.g., to avoid requesters targeting concrete 'personal data-purpose' exchange scenarios
                    </li>
                    <li>Data subjects/holders should be able to set these offers as public if that's their wish</li>
                </ul>
                <li>Instantiate the concrete assigner and assignee of the agreement</li>
                <li>Include relevant rules with concrete actions, targets and constraints</li>
            </ul>
            <div class="issue" title="Link to policy instantiation spec">
                <p>
                    ODRL policy instantiation spec being developed at 
                    <a href="https://solidlabresearch.github.io/policy-instantiation-spec/">https://solidlabresearch.github.io/policy-instantiation-spec/</a>
                </p>
                <p>
                    ODRL policy instantiation implementation being developed at
                    <a href="https://github.com/Dexagod/ODRL-instantiation">https://github.com/Dexagod/ODRL-instantiation</a>
                </p>
            </div>

            <aside class="example" title="Example of an ODRL Offer specifying a patient's permission for its health data to be read for primary care">
                <pre><code>ex:health-primarycare a odrl:Offer ;
    odrl:uid ex:health-primarycare ;
    dcterms:description "Patient allows her health data to be read for primary care." ;
    odrl:permission [
        odrl:action odrl:read ;
        odrl:target ex:health-data ;
        odrl:assigner ex:patient ;
        odrl:constraint [
            odrl:leftOperand dpv-odrl:Purpose ;
            odrl:operator odrl:eq ;
            odrl:rightOperand sector-health:PrimaryCareManagement ] ] .</code></pre>
            </aside>

            <aside class="example" title="Example of an ODRL Request specifying a physician's request to read the patient's health data for primary care">
                <pre><code>ex:physician-request a odrl:Request ;
    odrl:uid ex:physician-request ;
    dcterms:description "Physician requests patient to read health data for primary care." ;
    odrl:permission [
        odrl:action odrl:read ;
        odrl:target ex:health-data ;
        odrl:assignee ex:physician ;
        odrl:constraint [
            odrl:leftOperand dpv-odrl:Purpose ;
            odrl:operator odrl:eq ;
            odrl:rightOperand sector-health:PrimaryCareManagement ], [
            odrl:leftOperand dpv-odrl:LegalBasis ;
            odrl:operator odrl:eq ;
            odrl:rightOperand eu-gdpr:A9-2-a ] ] .</code></pre>
            </aside>

            <aside class="example" title="Example of an ODRL Agreement specifying the agreed terms between physician and patient to read health data for primary care">
                <pre><code>ex:patient-physician-agreement a odrl:Agreement ;
    odrl:uid ex:patient-physician-agreement ;
    dcterms:description "Agreement between physician and patient to read health data for primary care." ;
    odrl:permission [
        odrl:action odrl:read ;
        odrl:target ex:health-data ;
        odrl:assigner ex:patient ;
        odrl:assignee ex:physician ;
        odrl:constraint [
            odrl:leftOperand odrl:purpose ;
            odrl:operator odrl:eq ;
            odrl:rightOperand sector-health:PrimaryCareManagement], [
            odrl:leftOperand oac:LegalBasis ;
            odrl:operator odrl:eq ;
            odrl:rightOperand eu-gdpr:A9-2-a ] ] .</code></pre>
            </aside>
        </section>

        <section id="legal-grounds">
            <h2>Using different legal grounds</h2>
                <div class="issue" title="TODO: Using different legal grounds">
                    <p>Which GDPR legal grounds make sense for the sharing of health data? Consent, vital interest, more?</p>
                    <p>How do we justify that something is of vital interest to use vital interest as the legal ground</p>
                </div>
        </section>

        <section id="catalog">
            <h2>Health data sharing policy catalogs</h2>
            <section id="healthdcatap">
                <h3>Alignment with HealthDCAT-AP</h2>
                <div class="issue" title="TODO: Alignment with HealthDCAT-AP">
                    <p>See <a href="https://github.com/w3c/dpv/issues/201">https://github.com/w3c/dpv/issues/201</a></p>
                    <p>HealthDCAT-AP draft spec available at <a href="https://healthdcat-ap.github.io">https://healthdcat-ap.github.io</a></p>
                </div>
            </section>
            <section id="EHRxF">
                <h3>Alignment with EHRxF</h2>
                <div class="issue" title="TODO: Alignment with the European Electronic Health Record exchange Format (EHRxF)">
                    <p>See <a href="https://ehr-exchange-format.eu">https://ehr-exchange-format.eu</a></p>
                </div>
            </section>
        </section>

        <section class="appendix" id="issue-summary"></section>
    </body>
</html>
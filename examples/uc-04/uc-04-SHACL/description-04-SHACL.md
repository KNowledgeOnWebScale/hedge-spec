# Use Case Description

Access by physician as data controller to specific subset of data (e.g. historical weight measurements recorded by HCP) for secondary use (e.g. analyze the weight outcomes of his/her own patient population from first encounter until 1 year after surgery), without time limitation. Using a SHACL query.

For that:
- The patient has a [policy](policy-04-SHACL.ttl) that allows a subset of her health data to be read for secondary use after being pseudonymised.
- The physician issues a [request](request-04-SHACL.ttl) to read a subset of pseudonymised health data for secondary use with consent as legal basis.

TODO: The expected agreement , i.e., generated by matching policy and request, should also be part of this benchmark.

## Use Case Requirements:

- N/A - non applicable requirements
- TODO - we still need to think about how to integrate that into an ODRL policy
- TODO-EHDS - required to assess whether EHDS is applicable, still needs to be incorporated 

### Subject/holder policy

- Data subject: <https://example.org/patient>
- Data/Personal data: <https://example.org/weight>
- Processing operation: `odrl:read`
- Purpose: `dpv:ScientificResearch` or `dpv:ImproveHealthcare` or `sector-health:ResearchDevelopment` or `ehds:HealthcareScientificResearch` or `ehds:ProvideHealthcareOfficialStatistics` or `ehds:PublicInterestRelatedToHealth` or `ehds:EnsureQualitySafetyHealthcare` or `ehds:ProtectAgainstCrossBorderThreatsToHealth` or `ehds:PublicHealthSurveillance` 
***- Pseudo/Anonymisation as a duty: `dpv:Pseudonymisation` (`dpv:DeterministicPseudonymisation` or `dpv:MonotonicCounterPseudonymisation`)
- Recipient: N/A
- Duration: N/A
- Frequency: N/A
- Retrospective/prospective data: Retrospective & prospective limited to 1 year after surgery -- TODO

### Request

- Data controller: <https://example.org/physician>
- Data subject (type): <https://example.org/patient>
- Data/Personal data: <https://example.org/weight>
- Personal electronic health data: TODO-EHDS
- Non-personal electronic health data: TODO-EHDS
- Processing operation: : `odrl:read`
- Purpose: `dpv:ScientificResearch` or `dpv:ImproveHealthcare` or `sector-health:ResearchDevelopment` or `ehds:HealthcareScientificResearch` or `ehds:ProvideHealthcareOfficialStatistics` or `ehds:PublicInterestRelatedToHealth` or `ehds:EnsureQualitySafetyHealthcare` or `ehds:ProtectAgainstCrossBorderThreatsToHealth` or `ehds:PublicHealthSurveillance` 
- Primary/Secondary use: Secondary -- still needs to be expressed in the policy though
- Legal basis: `eu-gdpr:A9-2-a`
***- Pseudo/Anonymisation as a duty: `dpv:Pseudonymisation` (`dpv:DeterministicPseudonymisation` or `dpv:MonotonicCounterPseudonymisation`)
- Recipient: N/A
- Data source: N/A
- Duration: N/A
- Frequency: N/A
- Events/Activities: N/A

## Open Issues

1. "From the first encounter until 1 year after surgery": retrospective and limited prospective data. Should the surgery be represented as event or activity?

2. If the physician is only accessing to his own patients' data and he doesn't share them, could it not be anonymised? Is it enough to be pseudonymised?

3. Pseudonymisation approach:
    a. Followed strategy: processing constraint with DeterministicPseudonymisation (same input always produces the same pseudonym) & MonotonicCounterPseudonymisation (Monotonically increasing counter (P1, P2...)).

    ```drl:constraint [
        odrl:leftOperand dpv-odrl:Processing ;
        odrl:operator odrl:isA ;
        odrl:rightOperand dpv:Pseudonymisation ],[
        odrl:leftOperand dpv:hasPseudonymisationTechnique ;
        odrl:operator odrl:isAnyOf ;
        odrl:rightOperand dpv:DeterministicPseudonymisation, dpv:MonotonicCounterPseudonymisation ]```

    b. Alternatives:
        1. Data constraint:
        ```odrl:constraint [
            odrl:leftOperand dpv:Data ;
            odrl:operator odrl:isAnyOf ;
            odrl:rightOperand dpv:PseudonymisedData, dpv:AnonymisedData ]```

        2. Refinement on `ex:weight`
        ```odrl:target [
            odrl:source ex:weight ;
            odrl:refinement [
                odrl:leftOperand dpv:Data ;
                odrl:operator odrl:isAnyOf ;
                odrl:rightOperand dpv:PseudonymisedData, dpv:AnonymisedData ]] ;```

        3. `odrl:action dpv-odrl:Pseudonymise / dpv-odrl:Anonymise`

        4. `ehds:DataRequest` : Seeks access to statistically anonymised ehd
